var linkFeedback=document.querySelector(".feedback-link"),popupFeedback=document.querySelector(".modal-feedback"),closeFeedback=document.querySelector(".close-feedback"),nameFeedback=popupFeedback.querySelector(".feedback-name"),emailFeedback=popupFeedback.querySelector(".feedback-post"),textFeedback=popupFeedback.querySelector(".feedback-textarea"),formFeedback=popupFeedback.querySelector(".feedback-form"),storageName=localStorage.getItem("nameFeedback"),storageEmail=localStorage.getItem("emailFeedback"),isStorageSupport=!0,storage="",clickBuyItem=document.querySelectorAll(".buy-item"),addToCart=document.querySelector(".order-status"),closeOrder=document.querySelector(".close-order"),clickMap=document.querySelector(".map"),popupMap=document.querySelector(".popup-map"),closeMap=document.querySelector(".close-map"),focusDeliveryLink=document.querySelector(".delivery-link"),focusWarrantyLink=document.querySelector(".warranty-link"),focusCreditLink=document.querySelector(".credit-link"),deliverySlide=document.querySelector(".delivery-slide"),warrantySlide=document.querySelector(".warranty-slide"),creditSlide=document.querySelector(".credit-slide");clickBuyItem.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),addToCart.classList.remove("close-cart"),addToCart.classList.add("modal-show-cart")})}),closeOrder.addEventListener("click",function(e){e.preventDefault(),addToCart.classList.add("close-cart"),setTimeout(function(){addToCart.classList.remove("modal-show-cart")},500)}),linkFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("modal-show-feedback"),nameFeedback.focus(),storageName&&(nameFeedback.value=storageName,emailFeedback.focus()),storageEmail&&(emailFeedback.value=storageEmail,textFeedback.focus())}),formFeedback.addEventListener("submit",function(e){nameFeedback.value&&emailFeedback.value&&textFeedback.value?isStorageSupport&&(localStorage.setItem("nameFeedback",nameFeedback.value),localStorage.setItem("emailFeedback",emailFeedback.value)):(e.preventDefault(),popupFeedback.classList.remove("fields-error"),setTimeout(function(){popupFeedback.classList.add("fields-error")},100))}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.remove("modal-show-feedback"),popupFeedback.classList.remove("fields-error")});try{storage=localStorage.getItem("storageName")}catch(e){isStorageSupport=!1}clickBuyItem.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),addToCart.classList.remove("close-cart"),addToCart.classList.add("modal-show-cart")})}),closeOrder.addEventListener("click",function(e){e.preventDefault(),addToCart.classList.add("close-cart"),setTimeout(function(){addToCart.classList.remove("modal-show-cart")},500)}),clickMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show-map")}),closeMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal-show-map")}),focusDeliveryLink.addEventListener("focus",function(e){e.preventDefault(),warrantySlide.classList.remove("modal-show"),creditSlide.classList.remove("modal-show"),deliverySlide.classList.add("modal-show")}),focusWarrantyLink.addEventListener("focus",function(e){e.preventDefault(),focusDeliveryLink.classList.remove("servise-current"),deliverySlide.classList.remove("modal-show"),creditSlide.classList.remove("modal-show"),warrantySlide.classList.add("modal-show")}),focusCreditLink.addEventListener("focus",function(e){e.preventDefault(),focusDeliveryLink.classList.remove("servise-current"),deliverySlide.classList.remove("modal-show"),warrantySlide.classList.remove("modal-show"),creditSlide.classList.add("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(popupFeedback.classList.contains("modal-show-feedback")&&(e.preventDefault(),popupFeedback.classList.remove("modal-show-feedback"),popupFeedback.classList.remove("fields-error")),popupMap.classList.contains("modal-show-map")&&(e.preventDefault(),popupMap.classList.remove("modal-show-map")),addToCart.classList.contains("modal-show-cart")&&(e.preventDefault(),addToCart.classList.add("close-cart"),setTimeout(function(){addToCart.classList.remove("modal-show-cart")},500)))});